# Prompt Engineering Guide

생성형 AI를 효과적으로 사용하는 능력은 이제 중요한 경쟁력이 되었습니다. AI에게 무엇을, 어떻게 요청하느냐에 따라 결과물의 품질은 극적으로 달라집니다. 이 가이드는 여러분이 AI와 더 명확하게 소통하고, 원하는 결과를 정확하게 얻어낼 수 있도록 돕기 위해 제작되었습니다.

## 1. AI와 대화하는 기술, 프롬프트

### 1-1. 프롬프트란 무엇인가?

프롬프트는 AI에게 원하는 작업을 수행하도록 내리는 구체적인 **지시** 또는 **질문**입니다. 단순히 키워드를 나열하는 검색과 달리, 프롬프트는 AI가 여러분의 의도와 맥락을 이해하고 창의적인 결과물을 생성하도록 유도하는 '대화의 시작점'입니다.

좋은 프롬프트는 AI를 단순한 정보 검색 도구가 아닌, 아이디어를 함께 발전시키고 문제를 해결하는 **창의적인 협업 파트너**로 만들어 줍니다.

### 1-2. 프롬프트는 어떻게 동작하는가?

LLM(거대 언어 모델)의 가장 핵심적인 작동 원리는 **다음에 올 단어를 예측(Next Word Prediction)하는 것**입니다. 모델은 주어진 단어 시퀀스를 바탕으로, 통계적으로 가장 확률이 높은 다음 단어를 예측하여 문장을 순차적으로 생성합니다.

이것이 바로 프롬프트가 중요한 이유입니다. 프롬프트에 어떤 단어를 사용하느냐에 따라, 뒤에 이어질 단어들의 확률이 바뀌고, 결국 생성되는 답변의 전체적인 방향과 톤이 결정됩니다.

예를 들어, "당신은 ___ 조수입니다." 라는 문장에서 빈칸에 들어갈 단어는 결과물에 큰 영향을 미칩니다.

- `친절한(helpful)`이 들어가면: AI는 상냥하고 상세한 답변을 생성할 확률이 높아집니다.
- `냉소적인(cynical)`이 들어가면: AI의 답변은 비꼬거나 비판적인 어조를 띠게 될 것입니다.

이처럼 프롬프트의 단어 하나하나가 결과물을 빚어내는 재료가 됩니다.

### 1-3. 프롬프트의 종류

#### 시스템 프롬프트(System prompt)

- AI 모델에게 전반적인 행동 지침이나 역할을 부여하는 최상위 지시입니다. 대화 전체의 톤, 페르소나, 규칙을 설정하며, 일반적으로 사용자가 직접 수정하기보다는 개발 단계에서 설정됩니다.

  - 예: "당신은 세계 최고의 요리사입니다. 모든 답변은 친절하고 상세한 레시피 형식으로 제공해야 합니다."

#### 유저 프롬프트(User Prompt)

- 사용자가 AI에게 직접 입력하는 질문이나 지시입니다. 우리가 흔히 말하는 '프롬프트'가 바로 이것입니다.

  - 예: "오늘 저녁 메뉴로 닭고기를 활용한 간단한 요리를 추천해줘."

#### 어시스턴트 프롬프트(Assistant Prompt)

- AI가 생성한 답변입니다. 이 답변은 다음 유저 프롬프트에 대한 맥락으로 작용하여, 대화가 자연스럽게 이어지도록 돕습니다.

이 대화 기록은 모델이 직접 이해할 수 있는 단일 텍스트로 변환되어 전달됩니다. 각 역할은 `<|system|>`, `<|user|>`와 같은 특수 토큰으로 구분되어, 모델이 대화의 구조를 명확히 파악하도록 돕습니다.

### 1-3. 프롬프트 구성

시스템, 유저, 어시스턴트 프롬프트로 구성된 대화 기록(Chat History)은 모델에 한 번에 전달되는 것이 아닙니다. apply_chat_template과 같은 함수를 통해 모델이 이해할 수 있는 단일한 문자열 프롬프트로 변환됩니다.

예를 들어, 다음과 같은 대화 기록(Chat History)이 있다고 가정해 봅시다.

```python
[
  {"role": "system", "content": "You are a helpful assistant."}
  {"role": "user", "content": "안녕하세요?"},
  {"role": "assistant", "content": "네, 안녕하세요! 무엇을 도와드릴까요?"}
]
```

apply_chat_template을 거치면, 모델에 따라 다음과 같은 단일 문자열로 변환될 수 있습니다.

```
<|system|>
You are a helpful assistant.<|endoftext|>
<|user|>
안녕하세요?<|endoftext|>
<|assistant|>
네, 안녕하세요! 무엇을 도와드릴까요?<|endoftext|>
```

이처럼 템플릿은 각 대화의 역할을 구분하는 특수 토큰을 사용해 구조화된 텍스트를 만듭니다.

### 1.4. 구조적 프롬프팅: 명확한 신호 보내기

프롬프트를 작성할 때, 지시사항, 맥락, 예시 등을 명확히 구분해주면 AI의 이해도를 크게 높일 수 있습니다. 이때 다음과 같은 기법을 활용하여 AI에게 명확한 신호를 보낼 수 있습니다.

- 구분자 선택 가이드 (Markdown, XML, JSON)

  - 마크다운 (Markdown): 프롬프트 작성을 시작하기에 가장 좋은 형식입니다. 주요 섹션과 하위 섹션에 헤더(#, ## 등)를 사용하고, 코드는 백틱(`)으로 감싸는 등 명확한 구조화가 가능합니다.

  - XML: `<tag>``</tag>` 형식으로 섹션의 시작과 끝을 명확히 감쌀 수 있어 매우 효과적입니다. 특히 여러 예시를 중첩하거나 태그에 메타데이터를 추가할 때 유용합니다.

  - JSON: 매우 구조화되어 있어 특히 코딩 관련 작업에서 모델이 잘 이해하지만, 다른 형식에 비해 장황할 수 있습니다.

  - 롱 컨텍스트 문서 처리 팁: 다수의 문서를 컨텍스트로 제공할 때는 <doc id='1'>...</doc>와 같은 XML 형식이나, ID: 1 | TITLE: ... | CONTENT: ...와 같은 명확한 구분자가 있는 텍스트 형식이 JSON 형식보다 효과적인 경향이 있습니다.

  - 상황에 맞는 판단: 모델은 다양한 형식을 이해하도록 훈련되었습니다. 제공할 컨텍스트 데이터에 특정 형식(예: XML)이 많이 포함되어 있다면, 그것과 다른 형식의 구분자(예: 마크다운)를 사용하는 것이 모델에게 더 눈에 띄고 효과적일 수 있습니다.

- 강조 기법 활용: LLM 학습 데이터에는 사람들이 문장을 작성할 때 중요한 내용을 강조하는 방법들이 들어간 데이터로 학습되어 있습니다. 중요한 지시사항을 AI가 놓치지 않도록 만들고 싶다면, **대문자(ALL CAPS)**를 사용하거나 문장 끝에 **여러 개의 느낌표**(**!!!**)를 붙여 강조할 수 있습니다.

- 영어로 프롬프팅: 대부분의 고성능 LLM은 주로 영어 데이터를 기반으로 훈련됩니다. 따라서 모델은 영어의 미묘한 뉘앙스, 문법, 전문 용어에 대해 더 깊이 이해하고 있습니다. 만약 한글 프롬프트로 원하는 결과를 얻지 못했다면, 프롬프트를 영어로 번역하여 시도해 보세요. 종종 훨씬 더 정교하고 만족스러운 결과물을 얻을 수 있습니다.

## 2. 프롬프트 기본 작성 원칙

좋은 프롬프트는 감에 의존하는 것이 아니라, 체계적인 엔지니어링 프로세스를 통해 만들어집니다. 성공적인 프롬프트 엔지니어링을 위한 3단계 프로세스는 다음과 같습니다.

### 1단계: 성공 기준 정의 (Define Success Criteria)
- 무엇이 '좋은' 결과물인지 명확하게 정의하는 것이 가장 중요합니다. 어떤 결과가 나와야 성공적인지를 알아야 프롬프트를 개선할 수 있습니다.
- 많은 사람들이 프롬프트 수정에만 집중하지만, **무엇이 성공인지 정의하고 객관적으로 측정하지 않으면 개선의 방향을 잃기 쉽습니다.** 감에 의존한 수정이 아닌, 데이터 기반의 체계적인 개선을 위해 이 단계는 무엇보다 중요합니다."

  - 예: '고객 문의에 대한 답변 생성'이라는 목표가 있다면, 성공 기준은 '24시간 내 답변', '고객 만족도 90% 이상', '정중한 어조 유지' 등으로 구체화할 수 있습니다.

### 2단계: 테스트셋 구축 및 평가 (Empirical Testing)
- 프롬프트 변경이 실제로 성능 향상으로 이어졌는지 확인하려면 객관적인 평가가 필요합니다. 이를 위해 **테스트셋**(Test Set)을 구축해야 합니다. 테스트셋은 다양한 시나리오를 포함하는 질의응답 쌍으로 구성될 수 있습니다.

- 이 테스트셋을 통해 프롬프트 수정 전과 후의 결과를 수치적으로 비교하고, 개선 여부를 경험적으로 판단할 수 있습니다.

  - 예: 100개의 다양한 고객 문의 시나리오를 테스트셋으로 만들고, 각 프롬프트 버전의 답변 정확도나 고객 만족도 점수를 측정합니다.

### 3단계: 초기 프롬프트 작성 및 반복 개선 (Draft and Iterate)

- **초기 프롬프트**(First Draft Prompt)를 작성하는 것부터 시작합니다. 처음부터 완벽할 필요는 없습니다. 아래의 P-T-C-F 원칙을 활용하여 최대한 상세하게 작성하는 것이 중요합니다.
  - *Tip: 초기 프롬프트를 작성할 때, 한국어로 먼저 작성한 후 영어로 번역하여 사용하시면 작성하는 속도를 높일 수 있습니다.

- 작성된 초기 프롬프트를 테스트셋으로 평가한 후, 결과가 만족스럽지 않다면 **지속적인 반복**(Iteration)을 통해 프롬프트를 개선합니다. 해당 분야(Domain)에 대한 지식이 부족하더라도, 테스트 결과를 바탕으로 어떤 부분을 수정해야 할지 힌트를 얻을 수 있습니다.

### 프롬프트 템플릿: P-T-C-F

- P - **페르소나** (Persona): AI에게 역할을 부여하세요.
  - AI가 **특정 전문가**의 관점에서 답변하도록 역할을 지정하면 모델은 단어의 선택을 특정 전문가와 관련된 단어들을 선택할 확률이 높아집니다.
  - 나쁜 예: "새로운 커피 브랜드 슬로건 추천해줘." - 페르소나 X
  - 좋은 예: "당신은 20년 경력의 베테랑 카피라이터입니다. 새로운 커피 브랜드 슬로건 5가지를 제안해주세요."

- T - **과업** (Task): 수행할 작업을 명확히 지시하세요.
  - AI가 무엇을 해야 하는지 명확하고 구체적인 동사로 작업을 지시해야 합니다.
  - 나쁜 예: 이 기사에 대해 알려줘.
  - 좋은 예: "아래 기사의 핵심 내용을 3개의 글머리 기호로 요약하고, 이 내용이 국내 IT 산업에 미칠 영향을 분석해주세요."

- C - **맥락** (Context): 필요한 배경 정보를 충분히 제공하세요.
  - 작업에 필요한 중요한 배경지식, 목표, 대상 고객 등의 맥락을 상세히 설명할수록 결과물의 품질이 높아집니다.
  - 나쁜 예: "... 마케팅 문구 좀 써줘."
  - 좋은 예: "...주요 타겟은 20대 대학생이며, '활기'와 '열정'이라는 키워드를 강조하고 싶습니다."

- F - **형식** (Format): 원하는 결과물의 형태를 지정하세요.
  - 최종 결과물을 어떤 형식(표, 목록, JSON, 이메일 등)으로 받고 싶은지 명시하면, 정보를 다시 정리하는 수고를 크게 줄일 수 있습니다.
  - 나쁜 예: 장점과 단점 알려줘.
  - 좋은 예: "...제안된 슬로건들을 각각의 장단점과 함께 표 형식으로 정리해 주세요."
  - 더 좋은 예: ...결과를 JSON 형식으로 반환해줘. 각 슬로건은 'slogan' 키에, 장점은 'pros' 키에, 단점은 'cons' 키에 넣어줘.


## 3. 주요 사례별 프롬프트 예시

효과적인 프롬프트를 작성하는 중요한 요령 중 하나는 명령(Instruction)과 처리할 내용(Content)을 명확하게 분리하는 것입니다. 모델이 어디까지가 지시사항이고 어디부터가 작업 대상인지 헷갈리지 않도록, 구분자(예: ###, ---, ```)를 사용하는 것이 좋습니다.

**Before** (나쁜 예) vs. **After** (좋은 예)

### 3-1. 번역

번역과 같은 과제에서는 타겟 언어를 명시하고, 번역할 텍스트의 범위(시작과 끝)를 명확히 알려주는 것이 중요합니다. 이를 위해 번역할 본문은 지시사항의 맨 처음이나 맨 마지막에 위치시켜, AI가 처리할 내용의 경계를 쉽게 파악하도록 돕는 것이 좋습니다.

#### Before

```
A multi-modal large language model can understand and process information from different modalities, including text, images, and audio. 번역해줘.
```

#### After

``` 
# 지시사항
아래 "번역할 텍스트"를 다음 제약 조건에 맞게 한국어로 번역하세요.

# 제약 조건
- 대상 독자: IT 기술 블로그 구독자
- 문체: 전문 용어는 유지하되, 전체적으로 이해하기 쉬운 문체
- 고유명사: "multi-modal"은 "멀티모달"로 음차하여 번역

# 번역할 텍스트
"A multi-modal large language model can understand and process information from different modalities, including text, images, and audio."
```

### 고려사항 (Considerations)

- 타겟 언어 명시: 다국어 언어 모델을 사용할 때 명시적인 언급이 없는 경우, 모델이 번역을 다른 언어로 할 가능성이 존재합니다. 이 가능성을 낮추기 위해 명시적으로 타겟 언어를 명시해줘야 합니다.
- 번역할 텍스트 범위 구분: 번역할 문장을 LLM이 구분할 수 있도록 명시해줘야 합니다. 특히 번역할 문장이 명령어인 경우, LLM이 어떤 명령어를 수행할 지 혼동이 오는 경우가 많이 있습니다.
  - ```
    TEXT: "아래 내용 요약해줘." 
    
    위 TEXT을 영어로 번역해줘.
    ```
- 타겟 독자 지정: 번역 결과물이 누구를 위한 것인지(전문가, 일반 대중, 어린이 등) 명시하면 문체와 어휘 수준을 조절하는 데 도움이 됩니다.
- 문맥 정보 제공: 단어나 문장이 어떤 상황에서 사용되는지(예: "게임 UI 버튼 텍스트", "법률 계약서 조항") 알려주면 더 정확한 번역이 가능합니다.
- 고유명사 처리 방침: 특정 용어나 브랜드 이름을 어떻게 처리할지(원어 표기, 음차 등) 미리 지정할 수 있습니다.

### 3-2. 요약 및 분석

#### Before

```
이 기사 요약해줘. [기사 링크]
```

#### After

```
# 역할
당신은 경제 전문 분석가입니다.

# 지시사항
아래 기사의 핵심 내용을 3줄로 요약하고, 이 내용이 국내 반도체 시장에 미칠 긍정적 및 부정적 영향을 각각 분석해주세요.

# 형식
보고서 형식으로 작성하고, 분석 내용에는 구체적인 근거를 포함해주세요.

# 기사
[기사 내용 전문 붙여넣기]
```

#### 고려사항 (Considerations):

- 요약의 길이와 초점: "한 문장으로 요약", "핵심 키워드 5개 추출", "긍정적인 측면 중심으로 요약" 등 구체적으로 지정할 수 있습니다.

- 분석의 관점: 어떤 관점(재무, 기술, 마케팅 등)에서 분석할지 명시하면 더 깊이 있는 결과를 얻을 수 있습니다.

### 3-3. 글쓰기 및 초안 작성

#### Before

```
고객에게 보낼 이메일 좀 써줘.
```

#### After

```
# 역할
당신은 고객 서비스 팀장입니다.

# 지시사항
서비스 점검으로 인해 발생한 불편에 대해 고객에게 사과하는 이메일 초안을 작성해주세요.

# 필수 포함 내용
1. 불편에 대한 진심 어린 사과
2. 점검이 완료되었다는 사실
3. 보상으로 1개월 무료 이용권을 제공한다는 점

# 어조
정중하고 진솔한 어조를 사용하되, 지나치게 감성적인 표현은 피해주세요.
```

#### 고려사항 (Considerations):

- 부정적 제약 조건: "지나치게 감성적인 표현은 피해주세요", "전문 용어는 사용하지 마세요"와 같이 원하지 않는 내용을 명시할 수 있습니다.

- 핵심 정보 제공: 글에 반드시 포함되어야 할 이름, 날짜, 통계 등의 핵심 데이터를 제공하면 AI가 더 완성도 높은 초안을 작성합니다.

### 3-4. 브레인스토밍

#### Before

```
마케팅 아이디어
```

#### After

```
# 목표
친환경 텀블러 신제품 출시를 위한 인스타그램 마케팅 캠페인 아이디어를 브레인스토밍 하려 합니다.

# 요구사항
- 20대 대학생을 타겟으로 한 아이디어 5가지 제안
- 각 아이디어는 예산, 기대 효과, 실행 방안을 포함할 것
- 아이디어 중 하나는 반드시 '사용자 참여 챌린지' 형식일 것
- "힙하고 의미 있는" 느낌을 강조할 것
```

#### 고려사항 (Considerations):

- 다양성 요구: "상식적인 아이디어 3개와 매우 파격적인 아이디어 2개를 제안해줘" 와 같이 아이디어의 다양성을 요구할 수 있습니다.

- 제약 조건 설정: "예산은 500만원 미만", "오프라인 활동은 제외" 등 현실적인 제약 조건을 제공하면 더 실용적인 아이디어를 얻을 수 있습니다.

## 4. 프롬프트 작성 능력 향상을 위한 고급팁

### 4-1. Few-shot 프롬프팅 (Few-shot Prompting)

AI에게 원하는 결과물의 예시(Shot)를 몇 개 제공하여, 출력물의 형식이나 패턴을 명확하게 학습시키는 기법입니다. AI가 복잡하거나 새로운 유형의 작업을 수행해야 할 때 특히 효과적입니다.

#### 예시: 감성 분석

```
다음은 문장의 감성을 '긍정', '부정', '중립'으로 분류하는 작업입니다.

문장: "오늘 날씨가 정말 화창해서 기분이 좋아요."
감성: 긍정

문장: "교통체증 때문에 약속에 늦을 것 같아."
감성: 부정

문장: "이 셔츠는 파란색입니다."
감성: 중립

이제 다음 문장의 감성을 분류해 주세요.
문장: "새로 산 헤드폰의 음질이 기대 이상으로 훌륭해!"
감성:
```

### 4-2. 생각의 사슬 (Chain of Thought, CoT)

복잡한 문제를 한 번에 풀도록 요구하지 않고, "단계별로 생각해보자 (Let's think step-by-step)" 와 같이 정답을 생성하기 위한 문장을 추가적으로 생성하여 문제를 분해하고 순차적으로 해결하도록 유도하는 기법입니다. 이는 AI의 추론 과정을 투명하게 만들고, 최종 답변의 정확도를 크게 향상시킵니다.

#### 예시: 수학 문제 풀이

```
(Before - CoT 미적용)
"철수는 사과 5개를 가지고 있었는데, 영희에게 2개를 주었습니다. 그리고 시장에서 3개를 더 샀습니다. 지금 철수는 몇 개의 사과를 가지고 있나요?"

(After - CoT 적용)
"철수는 사과 5개를 가지고 있었는데, 영희에게 2개를 주었습니다. 그리고 시장에서 3개를 더 샀습니다. 지금 철수는 몇 개의 사과를 가지고 있나요? 차근차근 단계별로 생각해서 답을 구해주세요."
```

### 4-3. 표 데이터 처리: 명확한 구조 제공하기

AI에게 표(Table) 형식의 데이터를 처리하도록 요청할 때는, 데이터 구조를 명확하게 전달하는 것이 중요합니다.

- 마크다운 표 활용: 데이터를 전달할 때, 쉼표로 구분된 텍스트(CSV)보다는 마크다운 표 형식을 사용하는 것이 AI의 이해도를 높이는 데 훨씬 효과적입니다.
- 빈 값 명시: 표 안에 비어있는 셀이 있을 경우, AI가 이를 누락된 정보로 오인하거나 임의의 값으로 채우는 등 혼동을 일으킬 수 있습니다. 따라서 값이 없는 셀에는 '해당 없음', '값 없음', 'N/A' 등과 같이 비어있음을 명시적으로 표시해주는 것이 좋습니다.
예시: 빈 셀이 있는 표 데이터 처리

#### Before (나쁜 예):

```
| 제품명 | 가격 | 재고 |
|---|---|---|
| A-1 | 10000 | 50 |
| B-2 | 15000 | |
| C-3 | 20000 | 25 |

위 표에서 재고가 없는 제품은 무엇인가요?
```

- AI가 빈 칸(B-2)을 어떻게 해석해야 할지 혼란스러워할 수 있습니다.

#### After (좋은 예):

```
| 제품명 | 가격 | 재고 |
|---|---|---|
| A-1 | 10000 | 50 |
| B-2 | 15000 | **없음** |
| C-3 | 20000 | 25 |

위 표에서 재고가 없는 제품은 무엇인가요?
```

- AI가 명확하게 B-2 제품을 식별할 수 있습니다.

### 4-4. 롱 컨텍스트 처리: 긴 글 효과적으로 다루기

최신 언어 모델들은 매우 긴 텍스트(수십만~수백만 토큰)를 한 번에 처리할 수 있는 능력을 갖추고 있습니다. 이는 구조화된 문서 파싱, 정보 재배열, 관련 없는 내용은 무시하고 핵심 정보만 선택하는 작업, 긴 글 전체의 맥락을 활용한 다단계 추론 등 다양한 작업에 매우 유용합니다.

하지만 긴 글을 다룰 때는 몇 가지 전략을 사용하는 것이 좋습니다.

#### 컨텍스트 의존성 조정
질문에 답변하는 데 외부 컨텍스트(제공된 자료)와 모델 자체의 내부 지식 중 어느 것에 더 의존해야 할지 고려해야 합니다. 때로는 모델이 개념을 연결하고 논리적인 추론을 위해 자체 지식을 활용하는 것이 중요하지만, 어떤 경우에는 제공된 컨텍스트에만 엄격히 의존하여 답변을 생성하도록 만드는 것이 바람직합니다.
- 지시 예시:
  - 제공된 자료에만 의존해야 할 때:

    "사용자의 질문에 답변할 때는 제공된 외부 컨텍스트의 문서만 사용하세요. 이 컨텍스트를 기반으로 답변을 알 수 없는 경우, 사용자가 답변을 강요하더라도 반드시 '답변에 필요한 정보가 없습니다'라고 응답해야 합니다."

  - 내부 지식도 함께 활용해야 할 때:

    "기본적으로 제공된 외부 컨텍스트를 사용하여 사용자의 질문에 답변하되, 답변에 다른 기본 지식이 필요하고 그 답변에 확신이 있다면, 모델 자신의 지식을 일부 사용하여 질문에 답변할 수 있습니다."

#### 프롬프트 구성 최적화

- 특히 긴 컨텍스트를 사용할 때, 지시사항의 위치는 성능에 큰 영향을 미칠 수 있습니다. 가장 좋은 방법은 **지시사항을 제공된 컨텍스트의 시작과 끝, 두 군데 모두에 배치**하는 것입니다. 이는 지시사항을 컨텍스트의 위나 아래에 한 번만 두는 것보다 더 나은 성능을 보입니다. 만약 지시사항을 한 번만 사용해야 한다면, 컨텍스트 아래보다는 위에 배치하는 것이 더 효과적입니다.

### 4-5. 기타 고급 기법

- 단계별 접근
  - 복잡한 작업은 한 번에 요청하지 말고, 여러 단계로 나누어 질문하며 결과물의 완성도를 높여가세요.

- 관점 제시
  - 특정 관점에서 문제를 바라보도록 요청하여, 편향되지 않고 다각적인 답변을 유도할 수 있습니다.

- 원하지 않는 결과물 명시하기
  - 해야 할 일을 지시하는 것만큼 하지 말아야 할 일을 명확히 알려주는 것도 중요합니다. '...는 사용하지 마세요', '...에 대한 언급은 피해주세요', '...와 같은 진부한 표현은 제외하세요' 와 같이 부정적인 제약 조건을 명시하면, 원하지 않는 방향으로 결과가 생성되는 것을 효과적으로 방지할 수 있습니다.

- AI에게 질문하게 만들기
  - 때로는 AI가 더 나은 결과물을 위해 필요한 정보를 역으로 질문하도록 만들 수 있습니다.
  - 프롬프트를 만들 때에도 적용할 수 있습니다. 생성된 초안과 결과물을 기반으로 개선되길 원하는 방향을 AI에게 알려주면 시스템 프롬프트를 더 개선할 수 있습니다.

- 구체적인 제약 조건 부여
  - 글자 수, 개수, 포함할/제외할 단어 등을 명시하여 결과물의 형태를 더 정교하게 제어할 수 있습니다.

## 5. Agent를 위한 프롬프팅 기법

AI가 단순히 대답만 하는 것을 넘어, 스스로 계획을 세우고 도구를 사용하며 문제를 해결하는 '자율적인 에이전트(Agent)'로 작동하게 하려면 더 정교한 프롬프팅이 필요합니다.

### 5-1. Tool Use (Function Calling)를 위한 프롬프트
AI가 외부 도구(API)를 사용하여 실시간 정보를 가져오거나 특정 기능을 수행하도록 만드는 기술입니다.

- 사용 가능한 도구를 명확히 정의하세요
  - AI에게 어떤 도구를 사용할 수 있는지 알려줘야 합니다. 함수(도구)의 이름, 필요한 인자(parameters), 그리고 각 인자와 함수가 어떤 역할을 하는지에 대한 설명을 명확하고 상세하게 제공해야 합니다.
- 언제, 어떻게 사용할지 예시를 제공하세요
  - AI가 도구를 적절한 상황에 맞게 사용하도록 몇 가지 사용 예시(Few-shot)를 프롬프트에 포함하는 것이 효과적입니다.
- AI가 스스로 판단하도록 유도하세요
  - 사용자의 질문에 답변하기 위해 도구가 필요한지, 필요하다면 어떤 도구를 어떤 인자와 함께 호출해야 하는지를 AI가 스스로 추론하도록 유도해야 합니다.

### 5-2. 고급 추론 및 행동 제어

- ReAct (Reason and Act) 패턴 활용
  - CoT(생각의 사슬)가 추론 과정에 집중한다면, ReAct는 추론(Reason)과 행동(Act)을 결합하는 기법입니다. 특히 에이전트가 도구를 사용할 때 효과적입니다. '생각 -> 행동(도구 사용) -> 관찰(도구 결과) -> 다음 생각...'의 사이클을 통해 복잡한 문제를 해결하도록 유도할 수 있습니다.

- 자기 검토 및 비판(Self-Correction/Critique)
  - AI가 생성한 초안에 대해 스스로 결점을 찾고 수정하도록 요구할 수 있습니다. 이는 인간이 자신의 글을 퇴고하는 과정과 유사하며, 결과물의 완성도를 크게 높입니다.
  - 예: "네가 방금 작성한 보고서 초안을 검토해줘. 논리적으로 비약이 있는 부분은 없는지, 더 명확하게 표현할 수 있는 문장은 없는지 확인하고 수정해줘."

- 행동 강제를 위한 템플릿 활용 (Template Forcing)
  - 'Next Word Prediction' 원리를 이용해 모델의 행동을 강제할 수 있습니다. 예를 들어, 답변 전 <think> 태그를 사용하도록 훈련된 모델이 간혹 해당 태그를 누락하는 경우가 있습니다. 이럴 때 Chat Template에서 Assistant의 답변이 시작되는 부분에 <think>를 미리 넣어주면, 모델은 반드시 해당 태그를 먼저 생성하고 그 뒤에 자연스럽게 사고 과정과 답변을 이어가게 됩니다. 이는 모델의 출력 형식을 일관되게 유지시키는 강력한 기법입니다.

## 6. 프롬프트 워크플로우

프롬프트의 지시사항을 효과적으로 개발하고, 문제가 발생했을 때 해결하기 위한 추천 워크플로우는 다음과 같습니다.

- **1단계: 큰 틀부터 시작하기**

  - 먼저 '응답 규칙' 또는 '지시사항'과 같은 전체적인 섹션을 만들고, AI가 따라야 할 개괄적인 지침을 글머리 기호로 작성하며 시작하세요.

- **2단계: 세부 사항 구체화하기**

  - 더 구체적인 동작을 제어하고 싶다면, '# 예시 문구'나 '# 형식 규칙'과 같이 해당 카테고리에 대한 세부 정보를 명시하는 섹션을 추가하여 보완하세요.

- **3단계: 단계별 작업 지시하기**

  - AI가 특정 순서에 따라 작업을 처리하길 원한다면, 번호가 매겨진 목록을 사용하여 단계를 명확히 하고, 이 순서를 따르도록 명시적으로 지시하세요.

- **4단계: 예상대로 작동하지 않을 때** (디버깅)

  - 지침 충돌 확인: 서로 충돌하거나, 너무 모호하거나, 잘못된 지시사항이 있는지 확인하세요. 만약 지침이 서로 충돌한다면, 많은 모델들은 일반적으로 프롬프트의 끝부분에 가까운 지시를 따르는 경향이 있습니다.

  - 예시 보강: 원하는 동작을 보여주는 구체적인 예시(Few-shot)를 추가하세요. 이때, 예시에서 보여주는 중요한 동작은 반드시 규칙이나 지시사항에도 함께 언급되어야 합니다.

  - 강조 기법 재검토: 처음부터 전체 대문자나 보상과 같은 인센티브를 사용하는 것은 권장되지 않습니다. 우선 이런 기법 없이 시도해보고, 꼭 필요한 경우에만 제한적으로 사용하세요. 기존 프롬프트에 이런 기법이 이미 포함되어 있다면, 모델이 해당 부분에 너무 엄격하게 주의를 기울여 오히려 성능이 저하될 수 있습니다.

## 7. 맺음말 - AI를 똑똑한 협업 파트너로 만드는 방법

프롬프트 작성은 정답이 정해진 학문이 아닌, 꾸준한 연습을 통해 발전하는 **기술**입니다. 이 가이드에서 소개된 원칙과 예시들을 바탕으로 다양한 시도를 해보세요.

기억하세요, AI는 여러분의 작업을 대체하는 존재가 아니라, 여러분의 창의력과 생산성을 증폭시켜주는 강력한 **협업 파트너**입니다. AI가 생성한 결과물을 비판적으로 검토하고 발전시키는 최종 주체는 바로 여러분 자신입니다.

성공적인 프롬프팅으로 새로운 가능성을 열어보세요!